# Тема урока: модуль random

1. Случайные числа
2. Псевдослучайные числа
3. Модуль _random_

**Аннотация**. Урок посвящен модулю _random_, который содержит функции по работе с псевдослучайными числами.

## Случайные числа

**Случайные числа** – последовательность чисел, в которой невозможно предсказать следующее число, зная все предыдущие.

**Случайные числа** широко используются в различных задачах программирования:

- в играх (имитация подбрасывания игрального кубика и другие подобные ситуации);
- в программах имитационного моделирования;
- в статистических программах, случайным образом отбирающих данные для анализа;
- в компьютерной безопасности для шифрования уязвимых данных.

Для создания истинно случайных чисел можно бросать монету, игральные кости, или измерять какой-нибудь шумовой сигнал.

## Псевдослучайные числа

Ставить сложные электронные приборы на каждый компьютер для генерации истинно случайных чисел дорого, поэтому математики и программисты создали алгоритмы получения **псевдослучайных чисел**.

Для обычного человека псевдослучайные числа практически не отличаются от случайных, однако они вычисляются по математической формуле, и зная первое число и формулу, можно определить любое следующее.

Python предлагает встроенные функции для работы с псевдослучайными числами. Эти функции хранятся в модуле _random_ в стандартной библиотеке.

## Модуль random

Модуль _random_ предоставляет функции для генерации псевдослучайных чисел, букв и случайного выбора элементов последовательности (списка, строки и т.д.).

Для использования этих функций в начале программы необходимо подключить модуль, что делается командой **import**:

```python
import random
```

После подключения модуля мы можем использовать его функции.

### Функция randint()

Функция _randint()_ принимает два обязательных аргумента _a и b_ и возвращает псевдослучайное целое число из отрезка _[a;b]_.

Следующий код выводит два псевдослучайных целых числа: _num1_ из отрезка _[0;17]_ и _num2_ из отрезка _[−5;5]_.

```python
import random

num1 = random.randint(0, 17)
num2 = random.randint(-5, 5)
```

Левая и правая граница _a и b_ включаются в диапазон генерируемых псевдослучайных чисел. Результатом вызова функции _random.randint(2, 9)_ может быть любое число от 2 до 9, включая 2 и 9.

Следующий код выводит 10 псевдослучайных целых чисел из диапазона [1;100]:

```python
import random

for _ in range(10):
    print(random.randint(1, 100))
```

Среди этих чисел возможны повторения.

### Функция randrange()

Если вы помните, как применять функцию _range()_, то почувствуете себя непринужденно с функцией _randrange()_. Функция _randrange()_ принимает такие же аргументы, что и функция _range()_. Различие состоит в том, что функция _randrange()_ не возвращает саму последовательность чисел. Вместо этого она возвращает случайно выбранное число из последовательности чисел.

Следующий код присваивает переменной num псевдослучайное число в диапазоне от 0 до 9:

```python
import random

num = random.randrange(10)
```

Аргумент 10 задает конечный предел последовательности значений. Функция возвратит случайно выбранное число из последовательности чисел от 0 до конечного предела, исключая сам предел.

Следующий код задает начальное значение и конечный предел последовательности:

```python
import random

num = random.randrange(5, 10)
```

Таким образом в переменной num будет храниться псевдослучайное число в диапазоне от 5 до 9.

Следующий код задает начальное значение, конечный предел и величину шага:

```python
import random

num = random.randrange(0, 101, 10)
```

Таким образом в переменной _num_ будет храниться псевдослучайное число из последовательности чисел: _0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100_.

### Функция random()

Функции _randint()_ и _randrange()_ возвращают псевдослучайное **целое число**. А вот функция _random()_ возвращает псевдослучайное число с плавающей точкой (вещественное число). В функцию _random()_ никаких аргументов не передается. Функция _random()_ возвращает случайное число с плавающей точкой в диапазоне от 0.0 до 1.0 (исключая 1.0).

Следующий код выводит случайное число с плавающей точкой из диапазона [0.0;1.0):

```python
import random

num = random.random()
print(num)
```

### Функция uniform()

Функция _uniform()_ тоже возвращает случайное число с плавающей точкой, но при этом она позволяет задавать диапазон для отбора значений.

Следующий код выводит псевдослучайное число с плавающей точкой из диапазона [1.5;17.3] (включительно):

```python
import random

num = random.uniform(1.5, 17.3)
print(num)
```

### Функция seed()

Как уже было сказано **псевдослучайные числа** вычисляются на основе некой формулы. Генерация случайных чисел инициируется **начальным значением**. Оно используется в вычислении, возвращающем следующее случайное число в ряду. Когда модуль _random_ импортируется, он получает системное время из внутреннего генератора тактовых импульсов компьютера и использует его как начальное значение. Системное время – целое число, представляющее собой текущую дату и время вплоть до сотой секунды. Если бы всегда использовалось одно и то же начальное значение, функции генерации случайных чисел всегда возвращали бы один и тот же ряд псевдослучайных чисел. Поскольку системное время меняется каждую сотую долю секунды, можно утверждать, что всякий раз, когда импортируется модуль _random_, будет создана отличающаяся от предыдущих последовательность случайных чисел.

Вместе с тем, некоторые программы требуют генерации одной и той же последовательности случайных чисел. Для этого можно вызвать функцию _seed()_, задав начальное значение.

Следующий код генерирует 10 псевдослучайных чисел, и при этом содержит инструкцию, явно устанавливающую начальное значение для генератора случайных чисел:

```python
import random

random.seed(17)   # явно устанавливаем начальное значение для генератора случайных чисел

for _ in range(10):
    print(random.randint(1, 100))
```

Результат выполнения такого кода:

```python
67
54
39
47
38
23
99
91
91
70
```

Если выполнить код еще раз, получим ту же самую последовательность псевдослучайных чисел.

## Примечания

**Примечание 1**. Подключение модуля следующим образом:

```python
from random import *
```

позволяет в дальнейшем не писать название модуля и символ точки при вызове функций модуля.

**Примечание 2**. Функции модуля _random_ на самом деле являются **методами** одноименного класса _random_.

**Примечание 3**. В Python для генерации псевдослучайных чисел используется один из самых совершенных алгоритмов генерации псевдослучайных чисел – "вихрь Мерсенна", разработанный в 1997 году. Реализация выполнена на языке C, является быстрой и потокобезопасной.

**Примечание 4**. Настоящие случайные числа можно получить с сайта. Данный сайт использует атмосферный шум для создания по-настоящему случайных чисел.

**Примечание 5**. Пусть r – случайное число из интервала (0;1). Для того чтобы перевести такое число в интервал (a;b) можно воспользоваться формулой a+(b−a)⋅r.
